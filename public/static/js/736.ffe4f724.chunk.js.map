{"version":3,"file":"static/js/736.ffe4f724.chunk.js","mappings":"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","sources":["components/Clubs.js","components/MediaUpload.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams, Link } from 'react-router-dom';\r\nimport API from '../api';\r\nimport MediaUpload from './MediaUpload';\r\n\r\nfunction absUrl(u){\r\n  if(!u) return '';\r\n  if(/^https?:\\/\\//i.test(u)) return u;\r\n  if(u.startsWith('/')) return (API?.defaults?.baseURL||'').replace(/\\/$/,'') + u;\r\n  return u;\r\n}\r\n\r\nfunction decodeJwtPayload() {\r\n  try {\r\n    const t = localStorage.getItem('token');\r\n    if (!t) return null;\r\n    const [, payload] = t.split('.');\r\n    return JSON.parse(atob(payload.replace(/-/g, '+').replace(/_/g, '/')));\r\n  } catch { return null; }\r\n}\r\n\r\nfunction Clubs() {\r\n  const { id: clubId } = useParams();\r\n  const navigate = useNavigate();\r\n  const hasToken = !!localStorage.getItem('token');\r\n  const [clubs, setClubs] = useState([]);\r\n  const [club, setClub] = useState(null);\r\n  const [clubEvents, setClubEvents] = useState([]);\r\n  const [following, setFollowing] = useState(false); // used for follow button soon\r\n  const [subscribedEvents, setSubscribedEvents] = useState([]);\r\n  const [pinnedEvents, setPinnedEvents] = useState([]);\r\n  const [recurrence, setRecurrence] = useState({ frequency: '', interval: 1, until: '', byDay: [] });\r\n  const [requests, setRequests] = useState([]); // demandes des élèves (visible gérant)\r\n  const [form, setForm] = useState({\r\n    clubName: '',\r\n    day: 'Lundi',\r\n    startHour: '',\r\n    endHour: '',\r\n    location: '',\r\n    description: '',\r\n  });\r\n  const [evForm, setEvForm] = useState({\r\n    title: '',\r\n    date: new Date().toISOString().slice(0,10),\r\n    startHour: '',\r\n    endHour: '',\r\n    location: '',\r\n    color: '#60A5FA',\r\n  imageUrl: '',\r\n    description: '',\r\n  });\r\n  const [availForm, setAvailForm] = useState({\r\n    date: new Date().toISOString().slice(0,10),\r\n    startHour: '',\r\n    endHour: '',\r\n    subject: '',\r\n    teacher: '',\r\n    capacity: 1,\r\n    notes: '',\r\n  });\r\n  const [weeklyForm, setWeeklyForm] = useState({\r\n    day: 'Lundi',\r\n    startHour: '',\r\n    endHour: '',\r\n    location: '',\r\n    notes: '',\r\n  });\r\n\r\n  const [error, setError] = useState('');\r\n  const [bgUrl, setBgUrl] = useState('');\r\n  const [bgPreviewOk, setBgPreviewOk] = useState(true);\r\n  const [editEvId, setEditEvId] = useState('');\r\n  const [editEv, setEditEv] = useState({ title:'', date:'', startHour:'', endHour:'', location:'', description:'', imageUrl:'', color:'#60A5FA' });\r\n  // (linksForm, htmlEditor removed here to reduce warnings; kept in earlier features if needed)\r\n  const dayOrder = { Lundi:0, Mardi:1, Mercredi:2, Jeudi:3, Vendredi:4, Samedi:5, Dimanche:6 };\r\n\r\n  // Contexte utilisateur (role/id) -> permissions\r\n  const jwt = decodeJwtPayload();\r\n  const myUserId = jwt?.id || jwt?.userId || jwt?._id || null;\r\n  const isAdmin = jwt?.role === 'admin';\r\n  const canManageThisClub = isAdmin || (!!club && (String(club.user) === String(myUserId)));\r\n  const isAideClub = ((club?.clubName || club?.name || '').trim().toLowerCase() === 'aide');\r\n\r\n  // chargement d’un club (détails + événements)\r\n  useEffect(() => {\r\n    if (!clubId) {\r\n      fetchClubs();\r\n      return;\r\n    }\r\n    (async () => {\r\n      try {\r\n        // fetch user info for following/subscriptions\r\n        try {\r\n          const me = await API.get('/user/me');\r\n          setSubscribedEvents(me.data?.subscribedEvents || []);\r\n          setPinnedEvents(me.data?.pinnedEvents || []);\r\n          // following state recalculated after club fetch\r\n        } catch {}\r\n        const cRes = await API.get(`/clubs/${clubId}`);\r\n        setClub(cRes.data);\r\n        setBgUrl(cRes.data?.bgImageUrl || '');\r\n  // external links & custom html not edited here\r\n  const eRes = await API.get(`/events?clubId=${clubId}`);\r\n  const evData = eRes.data;\r\n  setClubEvents(Array.isArray(evData) ? evData : (evData?.events || []));\r\n        try {\r\n          const me2 = await API.get('/user/me');\r\n          setFollowing((me2.data?.followingClubs || []).includes(String(clubId)));\r\n          setSubscribedEvents(me2.data?.subscribedEvents || []);\r\n          setPinnedEvents(me2.data?.pinnedEvents || []);\r\n        } catch {}\r\n        setError('');\r\n      } catch (e) {\r\n        setClub(null);\r\n        setClubEvents([]);\r\n        setRequests([]);\r\n        setError(e.response?.data?.error || 'Erreur chargement club');\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clubId]);\r\n\r\n  // chargement des demandes (uniquement si club chargé, Aide, et droits)\r\n  useEffect(() => {\r\n    if (!clubId || !club) return;\r\n    const aide = (club?.clubName || '').trim().toLowerCase() === 'aide';\r\n    if (!aide || !canManageThisClub) {\r\n      setRequests([]);\r\n      return;\r\n    }\r\n    (async () => {\r\n      try {\r\n        const { data: reqs } = await API.get(`/clubs/${clubId}/requests`);\r\n        setRequests(Array.isArray(reqs) ? reqs : []);\r\n      } catch {\r\n        setRequests([]);\r\n      }\r\n    })();\r\n  }, [clubId, club, canManageThisClub]);\r\n\r\n  const fetchClubs = async () => {\r\n    try {\r\n      const res = await API.get('/clubs');\r\n      setClubs(res.data);\r\n      setError('');\r\n    } catch {\r\n      setError('Erreur de chargement des clubs');\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleAdd = async (e) => {\r\n    e.preventDefault();\r\n    if (!form.clubName || !form.startHour || !form.endHour) {\r\n      setError('Nom, heure début et heure fin obligatoires.');\r\n      return;\r\n    }\r\n    if (form.startHour >= form.endHour) {\r\n      setError(\"L'heure de début doit être avant l'heure de fin.\");\r\n      return;\r\n    }\r\n    try {\r\n      await API.post('/clubs', form);\r\n      await fetchClubs();\r\n      setForm({ clubName: '', day: 'Lundi', startHour: '', endHour: '', location: '', description: '' });\r\n      setError('');\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || err.response?.data?.message || 'Erreur ajout club');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await API.delete(`/clubs/${id}`);\r\n      await fetchClubs();\r\n      setError('');\r\n    } catch {\r\n      setError('Erreur suppression');\r\n    }\r\n  };\r\n\r\n  const createClubEvent = async (e) => {\r\n    e.preventDefault();\r\n    if (!canManageThisClub) return;\r\n    try {\r\n      if (!evForm.title || !evForm.date) {\r\n        setError('Titre et date requis'); return;\r\n      }\r\n      if (evForm.startHour && evForm.endHour && !(evForm.startHour < evForm.endHour)) {\r\n        setError(\"L'heure de début doit être avant l'heure de fin\"); return;\r\n      }\r\n      const payload = {\r\n        title: evForm.title.trim(),\r\n        date: evForm.date,\r\n        startHour: evForm.startHour || undefined,\r\n        endHour: evForm.endHour || undefined,\r\n        location: evForm.location || undefined,\r\n  imageUrl: evForm.imageUrl || undefined,\r\n  color: evForm.imageUrl ? undefined : (evForm.color || undefined),\r\n        description: evForm.description || undefined,\r\n        recurrence: recurrence.frequency ? {\r\n          frequency: recurrence.frequency.toUpperCase(),\r\n          interval: Number(recurrence.interval)||1,\r\n          until: recurrence.until || undefined,\r\n          byDay: recurrence.byDay,\r\n        } : undefined,\r\n      };\r\n      const { data } = await API.post(`/events/club/${clubId}`, payload);\r\n      setClubEvents((list) => [data, ...list]);\r\n      setError('');\r\n      setEvForm({\r\n        title: '',\r\n        date: new Date().toISOString().slice(0,10),\r\n        startHour: '',\r\n        endHour: '',\r\n        location: '',\r\n        color: '#60A5FA',\r\n  imageUrl: '',\r\n        description: '',\r\n      });\r\n      setRecurrence({ frequency: '', interval: 1, until: '', byDay: [] });\r\n    } catch (e2) {\r\n      setError(e2.response?.data?.error || 'Erreur création événement du club (admin)');\r\n    }\r\n  };\r\n\r\n  const createAvailability = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!availForm.date || !availForm.startHour || !availForm.endHour || !availForm.teacher || !availForm.subject) return;\r\n      if (!(availForm.startHour < availForm.endHour)) return;\r\n      const { data } = await API.post(`/clubs/${clubId}/availability`, {\r\n        date: availForm.date,\r\n        startHour: availForm.startHour,\r\n        endHour: availForm.endHour,\r\n        subject: availForm.subject.trim(),\r\n        teacher: availForm.teacher.trim(),\r\n        capacity: Number(availForm.capacity) || 1,\r\n        notes: availForm.notes || undefined,\r\n      });\r\n      setClub(data);\r\n      setAvailForm({\r\n        date: new Date().toISOString().slice(0,10),\r\n        startHour: '',\r\n        endHour: '',\r\n        subject: '',\r\n        teacher: '',\r\n        capacity: 1,\r\n        notes: '',\r\n      });\r\n    } catch {\r\n      // erreur déjà gérée ailleurs\r\n    }\r\n  };\r\n\r\n  const deleteAvailability = async (availId) => {\r\n    if (!canManageThisClub) return;\r\n    try {\r\n      await API.delete(`/clubs/${clubId}/availability/${availId}`);\r\n      const { data } = await API.get(`/clubs/${clubId}`);\r\n      setClub(data);\r\n      if (canManageThisClub) {\r\n        const { data: reqs } = await API.get(`/clubs/${clubId}/requests`);\r\n        setRequests(Array.isArray(reqs) ? reqs : []);\r\n      }\r\n    } catch {}\r\n  };\r\n\r\n  const requestSeat = async (availabilityId) => {\r\n    try {\r\n      const note = window.prompt(\"Message (facultatif):\", \"\") || \"\";\r\n      await API.post(`/clubs/${clubId}/requests`, { availabilityId, note });\r\n      alert('Demande envoyée');\r\n    } catch (e) {\r\n      alert(e.response?.data?.error || 'Erreur envoi demande');\r\n    }\r\n  };\r\n\r\n  const startEditEvent = (ev) => {\r\n    setEditEvId(ev._id);\r\n    setEditEv({\r\n      title: ev.title || '',\r\n      date: (ev.date ? new Date(ev.date) : new Date()).toISOString().slice(0,10),\r\n      startHour: ev.startHour || '',\r\n      endHour: ev.endHour || '',\r\n      location: ev.location || '',\r\n      description: ev.description || '',\r\n      imageUrl: ev.imageUrl || '',\r\n      color: ev.color || '#60A5FA',\r\n    });\r\n  };\r\n  const cancelEditEvent = () => { setEditEvId(''); };\r\n  const saveEditEvent = async () => {\r\n    try {\r\n      const payload = {\r\n        title: editEv.title.trim(),\r\n        date: editEv.date,\r\n        startHour: editEv.startHour || undefined,\r\n        endHour: editEv.endHour || undefined,\r\n        location: editEv.location || undefined,\r\n        description: editEv.description || undefined,\r\n        imageUrl: editEv.imageUrl || undefined,\r\n        color: editEv.imageUrl ? undefined : (editEv.color || undefined),\r\n      };\r\n      const { data } = await API.patch(`/events/${editEvId}`, payload);\r\n      setClubEvents((list) => list.map((x) => x._id === editEvId ? data : x));\r\n      setEditEvId('');\r\n    } catch (e) {\r\n      alert(e.response?.data?.error || 'Erreur mise à jour événement');\r\n    }\r\n  };\r\n\r\n  const setRequestStatus = async (reqId, action) => {\r\n    try {\r\n      await API.patch(`/clubs/${clubId}/requests/${reqId}`, { action });\r\n      const { data } = await API.get(`/clubs/${clubId}/requests`);\r\n      setRequests(Array.isArray(data) ? data : []);\r\n    } catch {}\r\n  };\r\n\r\n  const addWeeklySlot = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!weeklyForm.startHour || !weeklyForm.endHour) return;\r\n      if (!(weeklyForm.startHour < weeklyForm.endHour)) return;\r\n      const { data } = await API.post(`/clubs/${clubId}/weekly-slot`, {\r\n        day: weeklyForm.day,\r\n        startHour: weeklyForm.startHour,\r\n        endHour: weeklyForm.endHour,\r\n        location: weeklyForm.location || undefined,\r\n        notes: weeklyForm.notes || undefined,\r\n      });\r\n      setClub(data);\r\n      setWeeklyForm({ day: 'Lundi', startHour: '', endHour: '', location: '', notes: '' });\r\n    } catch {}\r\n  };\r\n\r\n  const removeWeeklySlot = async (slotId) => {\r\n    try {\r\n      await API.delete(`/clubs/${clubId}/weekly-slot/${slotId}`);\r\n      const { data } = await API.get(`/clubs/${clubId}`);\r\n      setClub(data);\r\n    } catch {}\r\n  };\r\n\r\n  const isValidImageUrl = (s = '') =>\r\n    !s || /^https?:\\/\\/.+/i.test(s.trim()) || /^data:image\\/(png|jpeg|webp);base64,/.test(s.trim());\r\n\r\n  const saveClubBg = async (e) => {\r\n    e?.preventDefault?.();\r\n    if (!isValidImageUrl(bgUrl)) return setError(\"URL d'image invalide\");\r\n    try {\r\n      const { data } = await API.patch(`/clubs/${clubId}`, { bgImageUrl: bgUrl.trim() });\r\n      setClub(data); setError('');\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Erreur mise à jour image');\r\n    }\r\n  };\r\n\r\n  // Vue: page d’un club\r\n  if (clubId) {\r\n    return (\r\n      <div>\r\n        <div style={{ marginBottom: 10 }}>\r\n          <Link to=\"/clubs\" className=\"week-btn\">⟵ Retour aux clubs</Link>\r\n        </div>\r\n\r\n        {error && <div style={{ color: 'red', marginBottom: 12 }}>{error}</div>}\r\n\r\n        {/* Bandeau visuel du club avec image de fond (si définie) */}\r\n        {club && (\r\n          <div\r\n            className=\"club-hero\"\r\n            style={club?.bgImageUrl ? {\r\n              backgroundImage: `linear-gradient(0deg, rgba(0,0,0,0.35), rgba(0,0,0,0.35)), url(\"${club.bgImageUrl}\")`\r\n            } : undefined}\r\n          >\r\n            <div className=\"club-hero__title\">{club?.clubName || club?.name || 'Club'}</div>\r\n            <div className=\"club-hero__meta\">\r\n              {isAideClub && <span className=\"pill pill--subject\">Soutien & Aide</span>}\r\n              {club?.day && <span className=\"pill\">{club.day} {club.startHour} → {club.endHour}</span>}\r\n              {club?.location && <span className=\"pill\">@ {club.location}</span>}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Formulaire gérant: définir l’image de fond */}\r\n        {canManageThisClub && (\r\n          <form onSubmit={saveClubBg} style={{ display: 'grid', gridTemplateColumns: '1fr auto auto', gap: 8, marginBottom: 12 }}>\r\n            <input\r\n              placeholder=\"URL d'image de fond (https://... ou data:image/...)\"\r\n              value={bgUrl}\r\n              onChange={(e) => { setBgUrl(e.target.value); setBgPreviewOk(true); }}\r\n            />\r\n            <button className=\"week-btn\" type=\"submit\">Enregistrer</button>\r\n            <button type=\"button\" className=\"week-btn\" onClick={() => { setBgUrl(''); saveClubBg(); }}>Supprimer</button>\r\n          </form>\r\n        )}\r\n        {canManageThisClub && (\r\n          <div style={{ marginBottom: 12 }}>\r\n            <MediaUpload onUploaded={(d)=>{ if(d.status==='approved' && d.url){ setBgUrl(absUrl(d.url)); setBgPreviewOk(true); } }} />\r\n            <small style={{ color:'var(--muted)' }}>Ou téléverse une image et enregistre pour l’appliquer.</small>\r\n          </div>\r\n        )}\r\n        {bgUrl && (\r\n          <div style={{ marginBottom: 10 }}>\r\n            <small>Aperçu:</small>\r\n            <img\r\n              src={absUrl(bgUrl)}\r\n              alt=\"\"\r\n              style={{ width: '100%', maxHeight: 180, objectFit: 'cover', borderRadius: 8, border: '1px solid var(--line)' }}\r\n              onError={() => setBgPreviewOk(false)}\r\n            />\r\n            {!bgPreviewOk && <div style={{ color: 'crimson' }}>Impossible de charger l’image.</div>}\r\n          </div>\r\n        )}\r\n\r\n        {club && (\r\n          <div style={{ border: '1px solid var(--line)', borderRadius: 8, padding: 12, background: 'var(--panel)', marginBottom: 16 }}>\r\n            <div style={{ marginBottom: 8 }}>\r\n              <span\r\n                style={{\r\n                  display: 'inline-flex', alignItems: 'center', gap: 8, padding: '6px 10px',\r\n                  borderRadius: 8, color: '#fff', background: club.color || '#2563eb', boxShadow: 'var(--shadow)',\r\n                }}\r\n                title={club.clubName}\r\n              >\r\n                <strong>{club.clubName}</strong>\r\n              </span>\r\n              {hasToken && (\r\n                <button\r\n                  className=\"week-btn\"\r\n                  style={{ marginLeft: 8 }}\r\n                  onClick={async ()=>{\r\n                    try {\r\n                      const url = `/clubs/${clubId}/${following? 'unfollow':'follow'}`;\r\n                      const { data } = await API.post(url);\r\n                      setFollowing(!!data.following);\r\n                    } catch {}\r\n                  }}\r\n                >\r\n                  {following? 'Ne plus suivre':'Suivre'}\r\n                </button>\r\n              )}\r\n            </div>\r\n            <div>\r\n              {club.day} ({club.startHour} → {club.endHour}) {club.location ? `@ ${club.location}` : ''}\r\n            </div>\r\n            {club.description && <div style={{ marginTop: 6 }}><em>{club.description}</em></div>}\r\n          </div>\r\n        )}\r\n\r\n        {canManageThisClub && (\r\n          <form onSubmit={createClubEvent} style={{ display: 'grid', gridTemplateColumns: 'repeat(6, minmax(160px,1fr))', gap: 8, marginBottom: 16 }}>\r\n            <label>Titre<input value={evForm.title} onChange={(e)=>setEvForm(f=>({...f,title:e.target.value}))} required /></label>\r\n            <label>Date<input type=\"date\" value={evForm.date} onChange={(e)=>setEvForm(f=>({...f,date:e.target.value}))} required /></label>\r\n            <label>Début<input type=\"time\" value={evForm.startHour} onChange={(e)=>setEvForm(f=>({...f,startHour:e.target.value}))} /></label>\r\n            <label>Fin<input type=\"time\" value={evForm.endHour} onChange={(e)=>setEvForm(f=>({...f,endHour:e.target.value}))} /></label>\r\n            <label>Lieu<input value={evForm.location} onChange={(e)=>setEvForm(f=>({...f,location:e.target.value}))} /></label>\r\n            <label>Couleur<input type=\"color\" value={evForm.color} onChange={(e)=>setEvForm(f=>({...f,color:e.target.value}))} /></label>\r\n            <label style={{ gridColumn: '1/-1' }}>Description\r\n              <input value={evForm.description} onChange={(e)=>setEvForm(f=>({...f,description:e.target.value}))} />\r\n            </label>\r\n            <div style={{ gridColumn: '1/-1' }}>\r\n              <label>Image (optionnelle, approuvée seulement; sinon couleur utilisée)</label>\r\n              <MediaUpload onUploaded={(d)=>{ if(d.status==='approved' && d.url){ const full = absUrl(d.url); setEvForm(f=>({...f,imageUrl: full })); } }} />\r\n              {evForm.imageUrl && (\r\n                <div style={{ marginTop: 6, display:'flex', alignItems:'center', gap:8 }}>\r\n                  <img src={evForm.imageUrl} alt=\"aperçu\" style={{ height:40, borderRadius:6, border:'1px solid var(--line)' }} />\r\n                  <button type=\"button\" className=\"week-btn\" onClick={()=> setEvForm(f=>({...f,imageUrl:''}))}>Retirer l’image</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <fieldset style={{ gridColumn: '1/-1', border: '1px solid var(--line)', padding: 8, borderRadius: 8 }}>\r\n              <legend style={{ padding: '0 6px' }}>Récurrence (optionnel)</legend>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit,minmax(160px,1fr))', gap: 8 }}>\r\n                <label>Fréquence\r\n                  <select value={recurrence.frequency} onChange={(e)=>setRecurrence(r=>({...r,frequency:e.target.value}))}>\r\n                    <option value=\"\">— Aucune —</option>\r\n                    <option value=\"DAILY\">Quotidien</option>\r\n                    <option value=\"WEEKLY\">Hebdomadaire</option>\r\n                    <option value=\"MONTHLY\">Mensuel</option>\r\n                  </select>\r\n                </label>\r\n                {recurrence.frequency && (\r\n                  <label>Intervalle\r\n                    <input type=\"number\" min={1} value={recurrence.interval} onChange={(e)=>setRecurrence(r=>({...r,interval:e.target.value}))} />\r\n                  </label>\r\n                )}\r\n                {recurrence.frequency && (\r\n                  <label>Jusqu'à\r\n                    <input type=\"date\" value={recurrence.until} onChange={(e)=>setRecurrence(r=>({...r,until:e.target.value}))} />\r\n                  </label>\r\n                )}\r\n                {recurrence.frequency === 'WEEKLY' && (\r\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6 }}>\r\n                    {['MO','TU','WE','TH','FR','SA','SU'].map(code => {\r\n                      const mapLabel = { MO:'Lun', TU:'Mar', WE:'Mer', TH:'Jeu', FR:'Ven', SA:'Sam', SU:'Dim' };\r\n                      const active = recurrence.byDay.includes(code);\r\n                      return (\r\n                        <button type=\"button\" key={code} onClick={()=>setRecurrence(r=>({...r,byDay: active ? r.byDay.filter(x=>x!==code) : [...r.byDay, code]}))} className=\"week-btn\" style={{ background: active? 'var(--accent-soft)':'var(--panel)' }}>\r\n                          {mapLabel[code]}\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </fieldset>\r\n            <div style={{ gridColumn: '1/-1' }}>\r\n              <button type=\"submit\" className=\"week-btn\">Créer un événement pour ce club</button>\r\n            </div>\r\n          </form>\r\n        )}\r\n\r\n        {/* Dispos (gérant) - création */}\r\n        {canManageThisClub && isAideClub && (\r\n          <>\r\n            <h3>Ajouter une disponibilité</h3>\r\n            <form onSubmit={createAvailability} style={{ display: 'grid', gridTemplateColumns: 'repeat(6, minmax(140px,1fr))', gap: 8, marginBottom: 16 }}>\r\n              <label>Date<input type=\"date\" value={availForm.date} onChange={(e)=>setAvailForm(f=>({...f,date:e.target.value}))} required /></label>\r\n              <label>Début<input type=\"time\" value={availForm.startHour} onChange={(e)=>setAvailForm(f=>({...f,startHour:e.target.value}))} required /></label>\r\n              <label>Fin<input type=\"time\" value={availForm.endHour} onChange={(e)=>setAvailForm(f=>({...f,endHour:e.target.value}))} required /></label>\r\n              <label>Matière<input value={availForm.subject} onChange={(e)=>setAvailForm(f=>({...f,subject:e.target.value}))} required /></label>\r\n              <label>Prof/Intervenant<input value={availForm.teacher} onChange={(e)=>setAvailForm(f=>({...f,teacher:e.target.value}))} required /></label>\r\n              <label>Capacité<input type=\"number\" min=\"1\" value={availForm.capacity} onChange={(e)=>setAvailForm(f=>({...f,capacity:e.target.value}))} /></label>\r\n              <label style={{ gridColumn: '1/-1' }}>Notes<input value={availForm.notes} onChange={(e)=>setAvailForm(f=>({...f,notes:e.target.value}))} /></label>\r\n              <div style={{ gridColumn: '1/-1' }}>\r\n                <button className=\"week-btn\" type=\"submit\">Ajouter</button>\r\n              </div>\r\n            </form>\r\n          </>\r\n        )}\r\n\r\n        <h3>Disponibilités</h3>\r\n        {isAideClub && (\r\n          <div className=\"aide-card-wrap\">\r\n            {!(club?.availabilities || []).length && <div style={{ color: 'var(--muted)' }}>Aucune disponibilité.</div>}\r\n            {(club?.availabilities || [])\r\n              .slice()\r\n              .sort((a,b) => new Date(a.date) - new Date(b.date) || String(a.startHour).localeCompare(String(b.startHour)))\r\n              .map((a) => {\r\n               const approved = canManageThisClub\r\n                 ? (requests || []).filter(r => r.availabilityId === a._id && r.status === 'approved').length\r\n                 : null;\r\n               return (\r\n              <div key={a._id} className=\"aide-card\">\r\n                 <div className=\"aide-card__date\">{new Date(a.date).toLocaleDateString('fr-FR')}</div>\r\n                <div className=\"aide-card__time\">{a.startHour} – {a.endHour}</div>\r\n                <div className=\"aide-card__subject\"><span className=\"pill pill--subject\">{a.subject}</span></div>\r\n                <div className=\"aide-card__teacher\">Avec {a.teacher}</div>\r\n                <div className=\"aide-card__notes\">{a.notes}</div>\r\n                {typeof approved === 'number' && (\r\n                  <div className=\"aide-card__cap\">\r\n                    <span className=\"pill pill--info\">{approved}/{a.capacity} inscrits</span>\r\n                  </div>\r\n                )}\r\n                 {canManageThisClub ? (\r\n                   <button className=\"week-btn\" onClick={() => deleteAvailability(a._id)}>Supprimer</button>\r\n                 ) : (\r\n                   <button className=\"week-btn\" onClick={() => requestSeat(a._id)}>Demander</button>\r\n                 )}\r\n               </div>\r\n            )})}\r\n          </div>\r\n        )}\r\n\r\n        {canManageThisClub && isAideClub && (\r\n          <>\r\n            <h3>Demandes d’élèves</h3>\r\n            {requests.length === 0 && <div style={{ color: 'var(--muted)' }}>Aucune demande.</div>}\r\n            <ul style={{ paddingLeft: 16 }}>\r\n              {requests.map(r => (\r\n                <li key={r._id} style={{ marginBottom: 8 }}>\r\n                  <strong>{r.student?.username || 'élève'}</strong> — {r.availability\r\n                    ? `${new Date(r.availability.date).toLocaleDateString('fr-FR')} ${r.availability.startHour}–${r.availability.endHour} (avec ${r.availability.teacher})`\r\n                    : '(créneau indisponible)'}\r\n                  {r.note ? ` — “${r.note}”` : ''}\r\n                  <span className={`status-badge status-badge--${r.status}`}>[{r.status}]</span>\r\n                  {r.status === 'pending' && (\r\n                    <>\r\n                      <button className=\"week-btn\" style={{ marginLeft: 8 }} onClick={() => setRequestStatus(r._id, 'approve')}>Approuver</button>\r\n                      <button className=\"week-btn\" style={{ marginLeft: 6 }} onClick={() => setRequestStatus(r._id, 'deny')}>Refuser</button>\r\n                    </>\r\n                  )}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </>\r\n        )}\r\n\r\n        {/* Événements du club (affiché pour tous les clubs) */}\r\n        <h3>Événements du club</h3>\r\n        {clubEvents.length === 0 && <div style={{ color: 'var(--muted)' }}>Aucun événement.</div>}\r\n        <ul>\r\n          {clubEvents.map(ev => (\r\n            <li key={ev._id} style={{ marginBottom: 10 }}>\r\n              <span style={{ display: 'inline-block', width: 10, height: 10, borderRadius: 10, background: ev.color || '#60A5FA', marginRight: 8 }} />\r\n              <strong>{ev.title}</strong> — {new Date(ev.date).toLocaleDateString('fr-FR')}\r\n              {ev.startHour && ` ${ev.startHour}`} {ev.endHour && `–${ev.endHour}`}\r\n              {ev.location && ` @ ${ev.location}`}\r\n              {ev.recurrence?.frequency && <span style={{ marginLeft: 6, color: 'var(--muted)', fontSize: 12 }}>(récurrent)</span>}\r\n              {canManageThisClub && (\r\n                <button className=\"week-btn\" style={{ marginLeft: 8 }} onClick={()=> startEditEvent(ev)}>Modifier</button>\r\n              )}\r\n              {hasToken && (\r\n                <button\r\n                  className=\"week-btn\"\r\n                  style={{ marginLeft: 8 }}\r\n                  onClick={async ()=>{\r\n                    try {\r\n                      const isSub = subscribedEvents.includes(ev._id);\r\n                      const url = `/events/${ev._id}/${isSub? 'unsubscribe':'subscribe'}`;\r\n                      const { data } = await API.post(url);\r\n                      if (data.subscribed) setSubscribedEvents(prev=> prev.concat(ev._id));\r\n                      else setSubscribedEvents(prev=> prev.filter(id=> id!==ev._id));\r\n                    } catch {}\r\n                  }}\r\n                >\r\n                  {subscribedEvents.includes(ev._id) ? 'Se désabonner' : 'S’abonner'}\r\n                </button>\r\n              )}\r\n              {hasToken && (\r\n                <button\r\n                  className=\"week-btn\"\r\n                  style={{ marginLeft: 6 }}\r\n                  onClick={async ()=>{\r\n                    try {\r\n                      const isPinned = pinnedEvents.includes(ev._id);\r\n                      const url = `/events/${ev._id}/${isPinned? 'unpin':'pin'}`;\r\n                      const { data } = await API.post(url);\r\n                      if (data.pinned) setPinnedEvents(prev=> prev.concat(ev._id));\r\n                      else setPinnedEvents(prev=> prev.filter(id=> id!==ev._id));\r\n                    } catch {}\r\n                  }}\r\n                >\r\n                  {pinnedEvents.includes(ev._id) ? 'Retirer EDT' : '+ EDT'}\r\n                </button>\r\n              )}\r\n              {editEvId === ev._id && (\r\n                <div style={{ marginTop: 8, border:'1px solid var(--line)', borderRadius:8, padding:8, background:'var(--panel)' }}>\r\n                  <div style={{ display:'grid', gridTemplateColumns:'repeat(6, minmax(140px,1fr))', gap:8 }}>\r\n                    <label>Titre<input value={editEv.title} onChange={(e)=> setEditEv(f=>({...f,title:e.target.value}))} /></label>\r\n                    <label>Date<input type=\"date\" value={editEv.date} onChange={(e)=> setEditEv(f=>({...f,date:e.target.value}))} /></label>\r\n                    <label>Début<input type=\"time\" value={editEv.startHour} onChange={(e)=> setEditEv(f=>({...f,startHour:e.target.value}))} /></label>\r\n                    <label>Fin<input type=\"time\" value={editEv.endHour} onChange={(e)=> setEditEv(f=>({...f,endHour:e.target.value}))} /></label>\r\n                    <label>Lieu<input value={editEv.location} onChange={(e)=> setEditEv(f=>({...f,location:e.target.value}))} /></label>\r\n                    <label style={{ gridColumn:'1/-1' }}>Description<input value={editEv.description} onChange={(e)=> setEditEv(f=>({...f,description:e.target.value}))} /></label>\r\n                    <div style={{ gridColumn:'1/-1', display:'flex', flexDirection:'column', gap:6 }}>\r\n                      <label>Image (remplace la couleur si définie)</label>\r\n                      <MediaUpload onUploaded={(d)=>{ if(d.status==='approved' && d.url){ const full = absUrl(d.url); setEditEv(f=>({...f,imageUrl: full })); } }} />\r\n                      <div style={{ display:'flex', alignItems:'center', gap:8 }}>\r\n                        <small style={{ color:'var(--muted)' }}>ou couleur</small>\r\n                        <input type=\"color\" value={editEv.color} onChange={(e)=> setEditEv(f=>({...f,color:e.target.value}))} />\r\n                      </div>\r\n                      {editEv.imageUrl && (\r\n                        <div style={{ display:'flex', alignItems:'center', gap:8 }}>\r\n                          <img src={editEv.imageUrl} alt=\"aperçu\" style={{ height:32, borderRadius:4, border:'1px solid var(--line)' }} />\r\n                          <button type=\"button\" className=\"week-btn\" onClick={()=> setEditEv(f=>({...f,imageUrl:''}))}>Retirer l’image</button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div style={{ gridColumn:'1/-1', display:'flex', gap:8 }}>\r\n                      <button className=\"week-btn\" type=\"button\" onClick={saveEditEvent}>Enregistrer</button>\r\n                      <button className=\"week-btn\" type=\"button\" onClick={cancelEditEvent}>Annuler</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n        {/* Horaires du club */}\r\n        <h3>Horaires du club</h3>\r\n        {(club?.weeklySlots?.length || 0) === 0 && (\r\n          <div style={{ color: 'var(--muted)' }}>\r\n            Horaire principal: {club?.day} ({club?.startHour} → {club?.endHour}) {club?.location ? `@ ${club.location}` : ''}\r\n          </div>\r\n        )}\r\n        {(club?.weeklySlots?.length || 0) > 0 && (\r\n          <div style={{ border: '1px solid var(--line)', borderRadius: 8, padding: 10, marginBottom: 12 }}>\r\n            <div style={{ marginBottom: 6, color: 'var(--muted)' }}>\r\n              Horaire principal: {club?.day} ({club?.startHour} → {club?.endHour}) {club?.location ? `@ ${club.location}` : ''}\r\n            </div>\r\n            {club.weeklySlots\r\n              .slice()\r\n              .sort((a,b) => (dayOrder[a.day] - dayOrder[b.day]) || String(a.startHour).localeCompare(String(b.startHour)))\r\n              .map((s) => (\r\n                <div key={s._id} style={{ display: 'flex', alignItems: 'center', gap: 8, padding: '6px 0', borderBottom: '1px dashed var(--line)' }}>\r\n                  <div style={{ minWidth: 120 }}>{s.day}</div>\r\n                  <div style={{ minWidth: 120 }}>{s.startHour} – {s.endHour}</div>\r\n                  <div style={{ flex: 1, color: 'var(--muted)' }}>{s.location || club?.location || ''}{s.notes ? ` — ${s.notes}` : ''}</div>\r\n                  {canManageThisClub && (\r\n                    <button className=\"week-btn\" onClick={() => removeWeeklySlot(s._id)}>Supprimer</button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n          </div>\r\n        )}\r\n\r\n        {canManageThisClub && (\r\n          <form onSubmit={addWeeklySlot} style={{ display: 'grid', gridTemplateColumns: 'repeat(6, minmax(140px,1fr))', gap: 8, marginBottom: 16 }}>\r\n            <label>Jour\r\n              <select value={weeklyForm.day} onChange={(e)=>setWeeklyForm(f=>({...f,day:e.target.value}))}>\r\n                {['Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi','Dimanche'].map(d => <option key={d} value={d}>{d}</option>)}\r\n              </select>\r\n            </label>\r\n            <label>Début<input type=\"time\" value={weeklyForm.startHour} onChange={(e)=>setWeeklyForm(f=>({...f,startHour:e.target.value}))} required /></label>\r\n            <label>Fin<input type=\"time\" value={weeklyForm.endHour} onChange={(e)=>setWeeklyForm(f=>({...f,endHour:e.target.value}))} required /></label>\r\n            <label>Lieu<input value={weeklyForm.location} onChange={(e)=>setWeeklyForm(f=>({...f,location:e.target.value}))} /></label>\r\n            <label style={{ gridColumn: '1/-1' }}>Notes<input value={weeklyForm.notes} onChange={(e)=>setWeeklyForm(f=>({...f,notes:e.target.value}))} /></label>\r\n            <div style={{ gridColumn: '1/-1' }}>\r\n              <button className=\"week-btn\" type=\"submit\">Ajouter l’horaire</button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Vue: liste des clubs\r\n  return (\r\n    <div>\r\n      <h2>Emploi du temps des clubs</h2>\r\n      {error && <div style={{ color: 'red', marginBottom: '1em' }}>{error}</div>}\r\n\r\n      <div>\r\n        {clubs.map((club) => {\r\n          const chipColor = club.color || '#2563eb';\r\n          return (\r\n            <div key={club._id} className=\"club-card\" style={{ border: '1px solid var(--line)', borderRadius: 8, padding: 10, marginBottom: 10, background: 'var(--panel)' }}>\r\n              <div style={{ marginBottom: 8 }}>\r\n                <span\r\n                  onClick={() => navigate(`/clubs/${club._id}`)}\r\n                  role=\"button\"\r\n                  tabIndex={0}\r\n                  onKeyDown={(e)=> (e.key === 'Enter' || e.key === ' ') && navigate(`/clubs/${club._id}`)}\r\n                  style={{ display: 'inline-flex', alignItems: 'center', gap: 8, padding: '6px 10px', borderRadius: 8, color: '#fff', background: chipColor, boxShadow: 'var(--shadow)', cursor: 'pointer' }}\r\n                  title=\"Ouvrir la page du club\"\r\n                >\r\n                  <strong>{club.name || club.clubName}</strong>\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <strong>{club.clubName}</strong> – {club.day} ({club.startHour} → {club.endHour}) {club.location ? `@ ${club.location}` : ''}\r\n              </div>\r\n              {club.description && <em>{club.description}</em>}\r\n              {isAdmin && (\r\n                <div style={{ marginTop: 8 }}>\r\n                  <button onClick={() => handleDelete(club._id)}>🗑️ Supprimer</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {isAdmin && (\r\n        <>\r\n          <h3>Ajouter un club</h3>\r\n          <form onSubmit={handleAdd} style={{ display: 'grid', gap: 8, maxWidth: 560 }}>\r\n            <input name=\"clubName\" placeholder=\"Nom du club\" value={form.clubName} onChange={handleChange} required />\r\n            <select name=\"day\" value={form.day} onChange={handleChange}>\r\n              <option>Lundi</option><option>Mardi</option><option>Mercredi</option><option>Jeudi</option><option>Vendredi</option><option>Samedi</option><option>Dimanche</option>\r\n            </select>\r\n            <input name=\"startHour\" type=\"time\" value={form.startHour} onChange={handleChange} required />\r\n            <input name=\"endHour\" type=\"time\" value={form.endHour} onChange={handleChange} required />\r\n            <input name=\"location\" placeholder=\"Lieu\" value={form.location} onChange={handleChange} />\r\n            <input name=\"description\" placeholder=\"Description\" value={form.description} onChange={handleChange} />\r\n            <button type=\"submit\">Ajouter</button>\r\n          </form>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Clubs;\r\n","import React, { useRef, useState } from 'react';\r\nimport API from '../api';\r\n\r\nexport default function MediaUpload({ onUploaded, showPreview = true, previewSize = 64 }) {\r\n  const [file, setFile] = useState(null);\r\n  const [status, setStatus] = useState('');\r\n  const [preview, setPreview] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const submit = async (e) => {\r\n    e?.preventDefault?.();\r\n    if (!file) return;\r\n    setStatus('Envoi...');\r\n    const fd = new FormData();\r\n    fd.append('file', file);\r\n    try {\r\n  const { data } = await API.post('/media/image', fd, { headers: { 'Content-Type': 'multipart/form-data' } });\r\n  setStatus(data.status === 'approved' ? 'OK' : 'En attente modération');\r\n  // Clear the initial local file and its preview\r\n  setFile(null);\r\n  if (inputRef.current) inputRef.current.value = '';\r\n  // After upload: show a small server-side preview only if approved (has public url)\r\n  const base = API?.defaults?.baseURL?.replace(/\\/$/, '') || '';\r\n  const absoluteUrl = data?.url ? (data.url.startsWith('/') ? (base + data.url) : data.url) : '';\r\n  setPreview(data.status === 'approved' && absoluteUrl ? absoluteUrl : '');\r\n  if (onUploaded) onUploaded({ ...data, absoluteUrl });\r\n    } catch (e2) {\r\n      const msg = e2.response?.data?.error || 'Erreur upload';\r\n      setStatus(msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/png,image/jpeg,image/webp\"\r\n        ref={inputRef}\r\n        onChange={(e) => {\r\n          const f = e.target.files?.[0];\r\n          if (!f) return;\r\n          if (f.size > 2 * 1024 * 1024) { // client hint; server enforces too\r\n            setStatus('> 2MB refusé'); return;\r\n          }\r\n          setFile(f);\r\n          setPreview(URL.createObjectURL(f));\r\n          setStatus('');\r\n        }}\r\n      />\r\n      {showPreview && preview && (\r\n        <img\r\n          src={preview}\r\n          alt=\"prévisualisation\"\r\n          style={{ width: previewSize, height: previewSize, objectFit: 'cover', border: '1px solid var(--line)', borderRadius: 6 }}\r\n        />\r\n      )}\r\n      <button className=\"week-btn\" type=\"button\" onClick={submit} disabled={!file}>Uploader l’image</button>\r\n      {status && <small style={{ color: 'var(--muted)' }}>{status}</small>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["absUrl","u","_API$defaults","test","startsWith","API","defaults","baseURL","replace","id","clubId","useParams","navigate","useNavigate","hasToken","localStorage","getItem","clubs","setClubs","useState","club","setClub","clubEvents","setClubEvents","following","setFollowing","subscribedEvents","setSubscribedEvents","pinnedEvents","setPinnedEvents","recurrence","setRecurrence","frequency","interval","until","byDay","requests","setRequests","form","setForm","clubName","day","startHour","endHour","location","description","evForm","setEvForm","title","date","Date","toISOString","slice","color","imageUrl","availForm","setAvailForm","subject","teacher","capacity","notes","weeklyForm","setWeeklyForm","error","setError","bgUrl","setBgUrl","bgPreviewOk","setBgPreviewOk","editEvId","setEditEvId","editEv","setEditEv","dayOrder","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche","jwt","t","payload","split","JSON","parse","atob","_unused","decodeJwtPayload","myUserId","userId","_id","isAdmin","role","canManageThisClub","String","user","isAideClub","name","trim","toLowerCase","useEffect","_cRes$data","_me$data","_me$data2","me","get","data","_unused2","cRes","concat","bgImageUrl","evData","Array","isArray","events","_me2$data","_me2$data2","_me2$data3","me2","followingClubs","includes","_unused3","e","_e$response","_e$response$data","response","fetchClubs","reqs","_unused4","async","res","_unused5","handleChange","_objectSpread","target","value","createClubEvent","preventDefault","undefined","toUpperCase","Number","post","list","e2","_e2$response","_e2$response$data","createAvailability","_unused7","cancelEditEvent","saveEditEvent","patch","map","x","_e$response3","_e$response3$data","alert","setRequestStatus","reqId","action","_unused9","addWeeklySlot","_unused0","saveClubBg","_e$preventDefault","call","s","arguments","length","isValidImageUrl","err","_err$response3","_err$response3$data","_club$weeklySlots","_club$weeklySlots2","_jsxs","children","_jsx","style","marginBottom","Link","to","className","backgroundImage","onSubmit","display","gridTemplateColumns","gap","placeholder","onChange","type","onClick","MediaUpload","onUploaded","d","status","url","src","alt","width","maxHeight","objectFit","borderRadius","border","onError","padding","background","alignItems","boxShadow","marginLeft","_unused10","marginTop","f","required","gridColumn","full","height","r","min","flexWrap","code","active","filter","MO","TU","WE","TH","FR","SA","SU","_Fragment","availabilities","sort","a","b","localeCompare","approved","availabilityId","toLocaleDateString","delete","availId","_unused8","deleteAvailability","note","window","prompt","_e$response2","_e$response2$data","requestSeat","paddingLeft","_r$student","student","username","availability","ev","_ev$recurrence","marginRight","fontSize","startEditEvent","isSub","subscribed","prev","_unused11","isPinned","pinned","_unused12","flexDirection","weeklySlots","borderBottom","minWidth","flex","slotId","_unused1","removeWeeklySlot","chipColor","tabIndex","onKeyDown","key","cursor","_unused6","handleDelete","_err$response","_err$response$data","_err$response2","_err$response2$data","message","maxWidth","_ref","showPreview","previewSize","file","setFile","setStatus","preview","setPreview","inputRef","useRef","accept","ref","_e$target$files","files","size","URL","createObjectURL","fd","FormData","append","_API$defaults$baseURL","headers","current","base","absoluteUrl","msg","disabled"],"sourceRoot":""}